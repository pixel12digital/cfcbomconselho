# Proteger diretórios sensíveis
<FilesMatch "^\.">
    Order allow,deny
    Deny from all
</FilesMatch>

# Front Controller - Redirecionar para index.php na raiz
RewriteEngine On

# Permitir acesso direto a arquivos estáticos na raiz
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Permitir acesso direto a assets (em public_html/assets/)
RewriteCond %{REQUEST_URI} ^/public_html/assets/
RewriteRule ^ - [L]

# Permitir acesso direto a assets (também na raiz, se existir symlink)
RewriteCond %{REQUEST_URI} ^/assets/
RewriteRule ^ - [L]

# Redirecionar tudo para index.php na raiz
RewriteRule ^(.*)$ index.php [QSA,L]

# Proteger storage e certificados
RewriteRule ^storage/ - [F,L]
RewriteRule ^certificados/.*\.(p12|pfx|pem)$ - [F,L]
