<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solu√ß√£o Campos de Data - Instrutores</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background-color: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .solution-section { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .demo-section { background: white; padding: 20px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin: 5px; font-size: 14px; }
        .btn-primary { background-color: #007bff; color: white; }
        .btn-secondary { background-color: #6c757d; color: white; }
        .btn-success { background-color: #28a745; color: white; }
        .btn-info { background-color: #17a2b8; color: white; }
        
        /* Modal Styles */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.4); }
        .modal.show { display: block; }
        .modal-content { background-color: #fefefe; margin: 5% auto; padding: 0; border-radius: 8px; width: 90%; max-width: 800px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .modal-header { background: #f8f9fa; padding: 20px; border-bottom: 1px solid #dee2e6; border-radius: 8px 8px 0 0; }
        .modal-body { padding: 20px; }
        .modal-footer { background: #f8f9fa; padding: 15px 20px; border-top: 1px solid #dee2e6; border-radius: 0 0 8px 8px; }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close:hover { color: black; }
        
        /* Form Styles */
        .form-group { margin-bottom: 15px; }
        .form-label { display: block; margin-bottom: 5px; font-weight: bold; font-size: 0.9rem; }
        .form-control { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; }
        .form-control:focus { outline: none; border-color: #007bff; box-shadow: 0 0 0 2px rgba(0,123,255,0.25); }
        
        .row { display: flex; flex-wrap: wrap; margin: 0 -10px; }
        .col { flex: 1; padding: 0 10px; }
        .col-6 { flex: 0 0 50%; padding: 0 10px; }
        
        .log { background-color: #f8f9fa; padding: 15px; border-radius: 4px; margin: 20px 0; font-family: monospace; font-size: 12px; max-height: 300px; overflow-y: auto; }
        .success { background-color: #d4edda; border-color: #c3e6cb; color: #155724; }
        .warning { background-color: #fff3cd; border-color: #ffeaa7; color: #856404; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; }
        .info { background-color: #d1ecf1; border-color: #bee5eb; color: #0c5460; }
        
        .feature-list { list-style: none; padding: 0; }
        .feature-list li { padding: 8px 0; border-bottom: 1px solid #eee; }
        .feature-list li:before { content: "‚úÖ "; margin-right: 10px; }
        .feature-list li.warning:before { content: "‚ö†Ô∏è "; }
        .feature-list li.error:before { content: "‚ùå "; }
        
        .comparison-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .comparison-table th, .comparison-table td { border: 1px solid #ddd; padding: 12px; text-align: left; }
        .comparison-table th { background-color: #f8f9fa; font-weight: bold; }
        .comparison-table .good { background-color: #d4edda; }
        .comparison-table .bad { background-color: #f8d7da; }
        .comparison-table .mixed { background-color: #fff3cd; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Solu√ß√£o para Campos de Data - Instrutores</h1>
            <p>Resolvendo o problema de digita√ß√£o manual em campos de data HTML5</p>
        </div>
        
        <div class="solution-section">
            <h2>üîç Problema Identificado</h2>
            <p>Os campos <code>type="date"</code> do HTML5 t√™m limita√ß√µes para digita√ß√£o manual:</p>
            <ul class="feature-list">
                <li class="error">A ordem de digita√ß√£o deve ser <strong>ano ‚Üí m√™s ‚Üí dia</strong></li>
                <li class="error">Se digitar dia/m√™s primeiro, o campo pode "zerar" ou ficar confuso</li>
                <li class="error">Formato padr√£o √© <code>aaaa-mm-dd</code> (n√£o intuitivo para brasileiros)</li>
                <li class="warning">Calend√°rio funciona perfeitamente, mas digita√ß√£o manual √© problem√°tica</li>
            </ul>
        </div>
        
        <div class="solution-section">
            <h2>‚úÖ Solu√ß√£o Implementada</h2>
            <p>Criamos uma solu√ß√£o h√≠brida que combina o melhor dos dois mundos:</p>
            <ul class="feature-list">
                <li><strong>Campo de texto auxiliar</strong> para digita√ß√£o manual no formato brasileiro (dd/mm/aaaa)</li>
                <li><strong>Campo date nativo</strong> para o calend√°rio funcionar perfeitamente</li>
                <li><strong>Sincroniza√ß√£o autom√°tica</strong> entre os dois campos</li>
                <li><strong>M√°scara autom√°tica</strong> que formata enquanto digita</li>
                <li><strong>Valida√ß√£o em tempo real</strong> para garantir datas v√°lidas</li>
            </ul>
        </div>
        
        <div class="solution-section">
            <h2>üìä Compara√ß√£o de Solu√ß√µes</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Aspecto</th>
                        <th>Campo Date Puro</th>
                        <th>Campo Texto + M√°scara</th>
                        <th>Nossa Solu√ß√£o H√≠brida</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Calend√°rio nativo</td>
                        <td class="good">‚úÖ Perfeito</td>
                        <td class="bad">‚ùå N√£o funciona</td>
                        <td class="good">‚úÖ Perfeito</td>
                    </tr>
                    <tr>
                        <td>Digita√ß√£o manual</td>
                        <td class="bad">‚ùå Confuso (ano/m√™s/dia)</td>
                        <td class="good">‚úÖ Intuitivo (dd/mm/aaaa)</td>
                        <td class="good">‚úÖ Intuitivo (dd/mm/aaaa)</td>
                    </tr>
                    <tr>
                        <td>Valida√ß√£o</td>
                        <td class="mixed">‚ö†Ô∏è B√°sica</td>
                        <td class="mixed">‚ö†Ô∏è Depende da implementa√ß√£o</td>
                        <td class="good">‚úÖ Robusta e em tempo real</td>
                    </tr>
                    <tr>
                        <td>Compatibilidade</td>
                        <td class="good">‚úÖ HTML5 padr√£o</td>
                        <td class="good">‚úÖ Universal</td>
                        <td class="good">‚úÖ Melhor dos dois</td>
                    </tr>
                    <tr>
                        <td>Experi√™ncia do usu√°rio</td>
                        <td class="bad">‚ùå Frustrante para digita√ß√£o</td>
                        <td class="mixed">‚ö†Ô∏è Funcional mas sem calend√°rio</td>
                        <td class="good">‚úÖ Excelente em todos os aspectos</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="demo-section">
            <h2>üß™ Demonstra√ß√£o da Solu√ß√£o</h2>
            <p>Teste a solu√ß√£o h√≠brida abaixo:</p>
            
            <div style="text-align: center; margin-bottom: 20px;">
                <button class="btn btn-primary" onclick="abrirModalInstrutor()">ü™ü Abrir Modal de Instrutor</button>
                <button class="btn btn-info" onclick="mostrarInstrucoes()">üìñ Ver Instru√ß√µes</button>
                <button class="btn btn-secondary" onclick="limparLog()">üßπ Limpar Log</button>
            </div>
            
            <div class="log" id="log">
                <strong>üìã Log de Eventos:</strong><br>
                [Clique em "Abrir Modal de Instrutor" para testar]
            </div>
        </div>
        
        <div class="solution-section">
            <h2>üîß Como Implementar no Sistema Real</h2>
            <p>Para aplicar esta solu√ß√£o no sistema de instrutores:</p>
            <ol>
                <li><strong>Atualizar o HTML</strong> dos modais para incluir campos de texto auxiliares</li>
                <li><strong>Modificar o JavaScript</strong> para sincronizar os campos</li>
                <li><strong>Corrigir o components.js</strong> para n√£o aplicar m√°scaras em campos date</li>
                <li><strong>Testar</strong> em todos os formul√°rios que usam campos de data</li>
            </ol>
        </div>
    </div>

    <!-- Modal de Instrutor (Solu√ß√£o H√≠brida) -->
    <div id="modalInstrutor" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Novo Instrutor - Solu√ß√£o H√≠brida</h3>
                <span class="close" onclick="fecharModalInstrutor()">&times;</span>
            </div>
            
            <div class="modal-body">
                <form id="formInstrutor">
                    <input type="hidden" id="acaoInstrutor" name="acao" value="novo">
                    <input type="hidden" id="instrutor_id" name="instrutor_id" value="">
                    
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label for="nome" class="form-label">Nome Completo *</label>
                                <input type="text" class="form-control" id="nome" name="nome" placeholder="Nome completo" required>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label for="cpf" class="form-label">CPF *</label>
                                <input type="text" class="form-control" id="cpf" name="cpf" placeholder="000.000.000-00" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label for="data_nascimento" class="form-label">Data de Nascimento *</label>
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <input type="text" class="form-control" id="data_nascimento_text" placeholder="dd/mm/aaaa" style="flex: 1;">
                                    <input type="date" class="form-control" id="data_nascimento" name="data_nascimento" required style="flex: 1;">
                                </div>
                                <small class="text-muted">üí° Digite no formato dd/mm/aaaa OU use o calend√°rio</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label for="validade_credencial" class="form-label">Validade da Credencial</label>
                                <div style="display: flex; gap: 10px; align-items: center;">
                                    <input type="text" class="form-control" id="validade_credencial_text" placeholder="dd/mm/aaaa" style="flex: 1;">
                                    <input type="date" class="form-control" id="validade_credencial" name="validade_credencial" style="flex: 1;">
                                </div>
                                <small class="text-muted">üí° Digite no formato dd/mm/aaaa OU use o calend√°rio</small>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-6">
                            <div class="form-group">
                                <label for="email" class="form-label">Email *</label>
                                <input type="email" class="form-control" id="email" name="email" placeholder="email@exemplo.com" required>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="form-group">
                                <label for="telefone" class="form-label">Telefone</label>
                                <input type="text" class="form-control" id="telefone" name="telefone" placeholder="(00) 00000-0000">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="fecharModalInstrutor()">Cancelar</button>
                <button type="button" class="btn btn-primary" onclick="salvarInstrutor()">Salvar Instrutor</button>
            </div>
        </div>
    </div>

    <script>
        // Simular o components.js (vers√£o corrigida)
        class InputMask {
            constructor() {
                this.masks = {
                    cpf: '000.000.000-00',
                    cnpj: '00.000.000/0000-00',
                    telefone: '(00) 00000-0000',
                    cep: '00000-000',
                    data: '00/00/0000',
                    hora: '00:00',
                    placa: 'AAA-0000',
                    valor: '000.000.000,00'
                };
                this.init();
            }

            init() {
                this.applyMasks();
            }

            applyMasks() {
                // CPF
                document.querySelectorAll('input[data-mask="cpf"], input[name*="cpf"]').forEach(input => {
                    this.mask(input, this.masks.cpf);
                });

                // Telefone
                document.querySelectorAll('input[data-mask="telefone"], input[name*="telefone"], input[name*="celular"]').forEach(input => {
                    this.mask(input, this.masks.telefone);
                });

                // Data - CORRIGIDO: N√ÉO aplicar m√°scara em campos type="date"
                document.querySelectorAll('input[data-mask="data"], input[name*="data"]:not([type="date"])').forEach(input => {
                    this.mask(input, this.masks.data);
                });
            }

            mask(input, mask) {
                input.addEventListener('input', (e) => {
                    let value = e.target.value.replace(/\D/g, '');
                    let result = '';
                    let maskIndex = 0;
                    let valueIndex = 0;

                    while (maskIndex < mask.length && valueIndex < value.length) {
                        if (mask[maskIndex] === '0') {
                            result += value[valueIndex];
                            valueIndex++;
                        } else if (mask[maskIndex] === 'A') {
                            result += value[valueIndex].toUpperCase();
                            valueIndex++;
                        } else {
                            result += mask[maskIndex];
                        }
                        maskIndex++;
                    }

                    e.target.value = result;
                });
            }
        }

        // Fun√ß√£o para adicionar log
        function adicionarLog(mensagem, tipo = 'info') {
            const logDiv = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            const classe = tipo === 'error' ? 'error' : tipo === 'warning' ? 'warning' : tipo === 'success' ? 'success' : '';
            const prefixo = tipo === 'error' ? '‚ùå' : tipo === 'warning' ? '‚ö†Ô∏è' : tipo === 'success' ? '‚úÖ' : '‚ÑπÔ∏è';
            
            logDiv.innerHTML += `<div class="${classe}">[${timestamp}] ${prefixo} ${mensagem}</div>`;
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        // Fun√ß√£o para validar se uma data √© v√°lida
        function isValidDate(dateString) {
            if (!dateString) return false;
            
            // Verificar formato yyyy-MM-dd
            const dateRegex = /^\d{4}-\d{2}-\d{2}$/;
            if (!dateRegex.test(dateString)) return false;
            
            // Verificar se √© uma data v√°lida
            const date = new Date(dateString);
            if (isNaN(date.getTime())) return false;
            
            // Verificar se a data n√£o √© muito antiga (antes de 1900)
            if (date.getFullYear() < 1900) return false;
            
            return true;
        }

        // Fun√ß√£o para configurar campos de data
        function configurarCamposData() {
            const camposData = ['data_nascimento', 'validade_credencial'];
            
            camposData.forEach(campoId => {
                const campo = document.getElementById(campoId);
                const campoTexto = document.getElementById(campoId + '_text');
                
                if (campo) {
                    // Garantir que seja do tipo date
                    campo.type = 'date';
                    
                    // Remover valores inv√°lidos
                    if (campo.value && !isValidDate(campo.value)) {
                        console.warn(`Valor inv√°lido removido do campo ${campoId}: ${campo.value}`);
                        campo.value = '';
                        adicionarLog(`Valor inv√°lido removido do campo ${campoId}: ${campo.value}`, 'warning');
                    }
                    
                    // Adicionar event listener para validar formato
                    campo.addEventListener('change', function() {
                        if (this.value && !isValidDate(this.value)) {
                            console.warn(`Data inv√°lida no campo ${campoId}: ${this.value}`);
                            this.value = '';
                            adicionarLog(`Data inv√°lida removida do campo ${campoId}: ${this.value}`, 'error');
                        } else if (this.value) {
                            // Valida√ß√µes espec√≠ficas por campo
                            if (campoId === 'data_nascimento') {
                                const data = new Date(this.value);
                                if (data > new Date()) {
                                    console.warn('Data de nascimento n√£o pode ser no futuro');
                                    this.value = '';
                                    adicionarLog('Data de nascimento n√£o pode ser no futuro', 'error');
                                    return;
                                }
                            }
                            
                            if (campoId === 'validade_credencial') {
                                const data = new Date(this.value);
                                if (data < new Date()) {
                                    console.warn('Validade da credencial deve ser no futuro');
                                    this.value = '';
                                    adicionarLog('Validade da credencial deve ser no futuro', 'error');
                                    return;
                                }
                            }
                            
                            console.log(`‚úÖ Data v√°lida definida no campo ${campoId}: ${this.value}`);
                            adicionarLog(`Data v√°lida definida no campo ${campoId}: ${this.value}`, 'success');
                            
                            // Sincronizar campo de texto
                            sincronizarCampoTexto(campoId, this.value);
                        }
                    });
                    
                    // Adicionar event listener para input
                    campo.addEventListener('input', function() {
                        // Permitir apenas entrada de data v√°lida
                        if (this.value && this.value.length > 10) {
                            this.value = this.value.substring(0, 10);
                        }
                        
                        // Log para debug
                        if (this.value) {
                            console.log(`‚úèÔ∏è Input detectado no campo ${campoId}: "${this.value}"`);
                            adicionarLog(`Input detectado no campo ${campoId}: "${this.value}"`);
                        }
                    });
                    
                    // Adicionar event listener para focus
                    campo.addEventListener('focus', function() {
                        console.log(`üéØ Campo ${campoId} recebeu foco`);
                        adicionarLog(`Campo ${campoId} recebeu foco`);
                    });
                }
                
                // Configurar campo de texto auxiliar
                if (campoTexto) {
                    configurarCampoTexto(campoId, campoTexto);
                }
            });
        }
        
        // Fun√ß√£o para configurar campo de texto auxiliar
        function configurarCampoTexto(campoId, campoTexto) {
            // Aplicar m√°scara de data brasileira
            campoTexto.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                
                // Aplicar m√°scara dd/mm/aaaa
                if (value.length <= 2) {
                    value = value;
                } else if (value.length <= 4) {
                    value = value.substring(0, 2) + '/' + value.substring(2);
                } else if (value.length <= 8) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4) + '/' + value.substring(4);
                } else {
                    value = value.substring(0, 2) + '/' + value.substring(2, 4) + '/' + value.substring(4, 8);
                }
                
                e.target.value = value;
            });
            
            // Sincronizar com campo date quando perder foco
            campoTexto.addEventListener('blur', function() {
                const valorTexto = this.value.trim();
                if (valorTexto) {
                    const dataConvertida = converterDataBrasileiraParaISO(valorTexto);
                    if (dataConvertida) {
                        const campoDate = document.getElementById(campoId);
                        if (campoDate) {
                            campoDate.value = dataConvertida;
                            campoDate.dispatchEvent(new Event('change'));
                            adicionarLog(`Data convertida e sincronizada: ${valorTexto} ‚Üí ${dataConvertida}`, 'success');
                        }
                    } else {
                        adicionarLog(`Formato de data inv√°lido: ${valorTexto}. Use dd/mm/aaaa`, 'error');
                        this.value = '';
                    }
                }
            });
            
            // Permitir tecla Enter para confirmar
            campoTexto.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    this.blur();
                }
            });
        }
        
        // Fun√ß√£o para converter data brasileira (dd/mm/aaaa) para ISO (aaaa-mm-dd)
        function converterDataBrasileiraParaISO(dataBrasileira) {
            // Verificar formato dd/mm/aaaa
            const regex = /^(\d{2})\/(\d{2})\/(\d{4})$/;
            const match = dataBrasileira.match(regex);
            
            if (!match) return null;
            
            const dia = parseInt(match[1]);
            const mes = parseInt(match[2]);
            const ano = parseInt(match[3]);
            
            // Validar valores
            if (dia < 1 || dia > 31) return null;
            if (mes < 1 || mes > 12) return null;
            if (ano < 1900 || ano > 2100) return null;
            
            // Verificar se a data √© v√°lida
            const data = new Date(ano, mes - 1, dia);
            if (data.getDate() !== dia || data.getMonth() !== mes - 1 || data.getFullYear() !== ano) {
                return null;
            }
            
            // Retornar no formato ISO
            return data.toISOString().split('T')[0];
        }
        
        // Fun√ß√£o para sincronizar campo de texto com campo date
        function sincronizarCampoTexto(campoId, valorISO) {
            const campoTexto = document.getElementById(campoId + '_text');
            if (campoTexto && valorISO) {
                const data = new Date(valorISO);
                const dia = String(data.getDate()).padStart(2, '0');
                const mes = String(data.getMonth() + 1).padStart(2, '0');
                const ano = data.getFullYear();
                campoTexto.value = `${dia}/${mes}/${ano}`;
            }
        }

        // Fun√ß√£o para limpar campos do formul√°rio
        function limparCamposFormulario() {
            // Campos de texto
            const camposTexto = ['nome', 'cpf', 'email', 'telefone'];
            camposTexto.forEach(campo => {
                const elemento = document.getElementById(campo);
                if (elemento) elemento.value = '';
            });
            
            // Campos de texto de data
            const camposTextoData = ['data_nascimento_text', 'validade_credencial_text'];
            camposTextoData.forEach(campo => {
                const elemento = document.getElementById(campo);
                if (elemento) elemento.value = '';
            });
            
            // Campo de data de nascimento - limpar de forma segura
            const campoDataNascimento = document.getElementById('data_nascimento');
            if (campoDataNascimento) {
                campoDataNascimento.value = '';
                campoDataNascimento.type = 'date';
                campoDataNascimento.removeAttribute('min');
                campoDataNascimento.removeAttribute('max');
            }
            
            // Campo de validade da credencial - limpar de forma segura
            const campoValidadeCredencial = document.getElementById('validade_credencial');
            if (campoValidadeCredencial) {
                campoValidadeCredencial.value = '';
                campoValidadeCredencial.type = 'date';
                campoValidadeCredencial.removeAttribute('min');
                campoValidadeCredencial.removeAttribute('max');
            }
        }

        function abrirModalInstrutor() {
            document.getElementById('modalTitle').textContent = 'Novo Instrutor - Solu√ß√£o H√≠brida';
            document.getElementById('acaoInstrutor').value = 'novo';
            document.getElementById('instrutor_id').value = '';
            
            // Limpar campos manualmente para evitar problemas com campos de data
            limparCamposFormulario();
            
            const modal = document.getElementById('modalInstrutor');
            modal.style.display = 'block';
            modal.classList.add('show');
            
            adicionarLog('Modal de instrutor aberto com solu√ß√£o h√≠brida', 'success');
            
            // Configurar campos de data ap√≥s abrir o modal
            setTimeout(() => {
                configurarCamposData();
                adicionarLog('Campos de data configurados com sincroniza√ß√£o', 'success');
                adicionarLog('üí° Teste: Digite uma data no formato dd/mm/aaaa no campo de texto', 'info');
                adicionarLog('üí° Teste: Ou use o calend√°rio no campo date', 'info');
            }, 100);
        }

        function fecharModalInstrutor() {
            const modal = document.getElementById('modalInstrutor');
            modal.classList.remove('show');
            
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
            
            adicionarLog('Modal de instrutor fechado');
        }

        function salvarInstrutor() {
            const form = document.getElementById('formInstrutor');
            const formData = new FormData(form);
            
            // Valida√ß√µes b√°sicas
            if (!formData.get('nome').trim() || !formData.get('cpf').trim() || 
                !formData.get('data_nascimento') || !formData.get('email').trim()) {
                adicionarLog('Preencha todos os campos obrigat√≥rios', 'warning');
                return;
            }
            
            adicionarLog('Formul√°rio validado com sucesso!', 'success');
            adicionarLog(`Nome: ${formData.get('nome')}`);
            adicionarLog(`CPF: ${formData.get('cpf')}`);
            adicionarLog(`Data Nascimento: ${formData.get('data_nascimento')}`);
            adicionarLog(`Email: ${formData.get('email')}`);
            adicionarLog(`Validade Credencial: ${formData.get('validade_credencial') || 'N√£o informada'}`);
            
            // Mostrar tamb√©m os valores dos campos de texto
            const dataNascimentoTexto = document.getElementById('data_nascimento_text').value;
            const validadeCredencialTexto = document.getElementById('validade_credencial_text').value;
            adicionarLog(`Data Nascimento (texto): ${dataNascimentoTexto || 'N√£o informada'}`);
            adicionarLog(`Validade Credencial (texto): ${validadeCredencialTexto || 'N√£o informada'}`);
        }

        function mostrarInstrucoes() {
            adicionarLog('üìñ INSTRU√á√ïES DE TESTE:', 'info');
            adicionarLog('1. Abra o modal de instrutor', 'info');
            adicionarLog('2. No campo "Data de Nascimento":', 'info');
            adicionarLog('   - Digite no formato dd/mm/aaaa (ex: 15/03/1990)', 'info');
            adicionarLog('   - OU use o calend√°rio no campo date', 'info');
            adicionarLog('3. Observe a sincroniza√ß√£o autom√°tica entre os campos', 'info');
            adicionarLog('4. Teste valida√ß√µes (datas futuras, formatos inv√°lidos)', 'info');
        }

        function limparLog() {
            document.getElementById('log').innerHTML = '<strong>üìã Log de Eventos:</strong><br>[Log limpo]';
        }

        // Fechar modal ao clicar fora
        window.onclick = function(event) {
            const modal = document.getElementById('modalInstrutor');
            if (event.target === modal) {
                fecharModalInstrutor();
            }
        }

        // Inicializar quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', function() {
            adicionarLog('üöÄ P√°gina de solu√ß√£o carregada', 'success');
            
            // Inicializar m√°scaras (vers√£o corrigida)
            const inputMask = new InputMask();
            adicionarLog('üîß Sistema de m√°scaras inicializado (vers√£o corrigida)', 'success');
            adicionarLog('üìù M√°scaras N√ÉO ser√£o aplicadas em campos type="date"', 'success');
            
            adicionarLog('üí° Clique em "Ver Instru√ß√µes" para saber como testar', 'info');
        });
    </script>
</body>
</html>
